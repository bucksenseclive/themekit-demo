{% comment %}
  Renders a standard dropdown style menu for the header.

  Usage:
  {% render 'header-dropdown-menu' %}
{% endcomment %}

{% style %}
.list-menu__item { line-height: inherit; }
{% endstyle %}

<nav class="header__inline-menu">
  <ul class="list-menu list-menu--inline" role="list">
    {%- for link in section.settings.menu.links -%}
      <li>
        {%- if link.links != blank -%}
          <header-menu>
            <details id="Details-HeaderMenu-{{ forloop.index }}">
              <summary
                id="HeaderMenu-{{ link.handle }}"
                class="header__menu-item list-menu__item link focus-inset"
              >
                <span
                  {%- if link.child_active %}
                    class="header__active-menu-item"
                  {% endif %}
                >
                  {{- link.title | escape -}}
                </span>
                {% render 'icon-caret' %}
              </summary>
              <ul
                id="HeaderMenu-MenuList-{{ forloop.index }}"
                class="header__submenu list-menu list-menu--disclosure color-{{ section.settings.menu_color_scheme }} gradient caption-large motion-reduce global-settings-popup"
                role="list"
                tabindex="-1"
              >
                {%- for childlink in link.links -%}
                  <li>
                    {%- if childlink.links == blank -%}
                      <a
                        id="HeaderMenu-{{ link.handle }}-{{ childlink.handle }}"
                        href="{{ childlink.url }}"
                        class="header__menu-item list-menu__item link link--text focus-inset caption-large{% if childlink.current %} list-menu__item--active{% endif %}"
                        {% if childlink.current %}
                          aria-current="page"
                        {% endif %}
                      >
                        {{ childlink.title | escape }}
                      </a>
                    {%- else -%}
                      <details id="Details-HeaderSubMenu-{{ link.handle }}-{{ childlink.handle }}">
                        <summary
                          id="HeaderMenu-{{ link.handle }}-{{ childlink.handle }}"
                          class="header__menu-item link link--text list-menu__item focus-inset caption-large"
                        >
                          <span>{{ childlink.title | escape }}</span>
                          {% render 'icon-caret' %}
                        </summary>
                        <ul
                          id="HeaderMenu-SubMenuList-{{ link.handle }}-{{ childlink.handle }}-{{ grandchildlink.handle }}"
                          class="header__submenu list-menu motion-reduce"
                        >
                          {%- for grandchildlink in childlink.links -%}
                            <li>
                              <a
                                id="HeaderMenu-{{ link.handle }}-{{ childlink.handle }}-{{ grandchildlink.handle }}"
                                href="{{ grandchildlink.url }}"
                                class="header__menu-item list-menu__item link link--text focus-inset caption-large{% if grandchildlink.current %} list-menu__item--active{% endif %}"
                                {% if grandchildlink.current %}
                                  aria-current="page"
                                {% endif %}
                              >
                                {{ grandchildlink.title | escape }}
                              </a>
                            </li>
                          {%- endfor -%}
                        </ul>
                      </details>
                    {%- endif -%}
                  </li>
                {%- endfor -%}
              </ul>
            </details>
          </header-menu>
        {%- else -%}
          <a
            id="HeaderMenu-{{ link.handle }}"
            href="{{ link.url }}"
            class="header__menu-item list-menu__item link link--text focus-inset"
            {% if link.current %}
              aria-current="page"
            {% endif %}
          >
            <span
              {%- if link.current %}
                class="header__active-menu-item"
              {% endif %}
            >
              {{- link.title | escape -}}

              {% if link.handle == 'find-your-drink' %}
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" width="14" height="14" style="position: relative; top: 1px; left: 0;"><path d="M6.25 4.688 3.129 1.563H1.562v1.562L4.687 6.25ZM7.813.001h1.562v3.124H7.812Zm6.25 7.812h3.125v1.559h-3.126Zm1.566-4.688V1.563h-1.567l-3.125 3.125 1.562 1.562ZM0 7.813h3.129v1.559H0Zm7.812 6.25h1.562v3.125H7.812Zm-6.25 0v1.562h1.567L6.254 12.5l-1.567-1.562Zm23.1 7.471L9.129 6.003a1.175 1.175 0 0 0-1.657 0L6.003 7.472a1.175 1.175 0 0 0 0 1.657l15.526 15.529a1.175 1.175 0 0 0 1.657 0l1.468-1.468a1.175 1.175 0 0 0 .004-1.657Zm-12.944-8.253L7.029 8.594l1.562-1.562 4.687 4.687Z" /></svg>

              {% elsif link.handle == 'deals' %}
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="14" height="14" style="position: relative; top: 1px; left: 0;"><defs><clipPath id="a"><path fill="#d13f33" d="M0 0h30v30H0z" data-name="Rectangle 218"/></clipPath></defs><g fill="#d13f33" clip-path="url(#a)" data-name="Group 988"><path d="M17.591 5.297a3.01 3.01 0 0 0-1.949.76 3.434 3.434 0 0 0-.66.742 3.435 3.435 0 0 0-.66-.742 3.011 3.011 0 0 0-1.949-.76 2.029 2.029 0 0 0-2.166 1.916c0 1.388 1.28 2.877 4.091 2.877h1.369c2.81 0 4.091-1.489 4.091-2.877a2.029 2.029 0 0 0-2.166-1.916M14.409 8.96h-.11c-2.034 0-2.96-.9-2.96-1.746 0-.444.455-.788 1.035-.788a1.867 1.867 0 0 1 1.219.488 2.4 2.4 0 0 1 .816 2.047m1.259 0h-.11a2.4 2.4 0 0 1 .816-2.045 1.869 1.869 0 0 1 1.219-.489c.58 0 1.035.343 1.035.787 0 .844-.926 1.748-2.959 1.748" data-name="Path 787"/><path d="M14.377 10.769H8.729a1.6 1.6 0 0 0-1.588 1.576v1.172a1.58 1.58 0 0 0 1.592 1.552h5.644Z" data-name="Path 788"/><path d="M21.215 10.769h-5.7v4.3h5.7a1.531 1.531 0 0 0 1.535-1.552v-1.172a1.551 1.551 0 0 0-1.535-1.575" data-name="Path 789"/><path d="M14.379 16.199H8.724v6.159a1.529 1.529 0 0 0 1.546 1.533h4.109Z" data-name="Path 790"/><path d="M15.511 16.199v7.692h4.166a1.482 1.482 0 0 0 1.49-1.533v-6.159Z" data-name="Path 791"/><path d="M15 30a15 15 0 1 1 15-15 15.017 15.017 0 0 1-15 15m0-28.869A13.869 13.869 0 1 0 28.869 15 13.885 13.885 0 0 0 15 1.131" data-name="Path 792"/><path d="M14.209 27.849h-.037a12.9 12.9 0 0 1-2.334-.365.567.567 0 1 1 .277-1.1 11.766 11.766 0 0 0 2.129.333.566.566 0 0 1-.035 1.13m2.256-.061a.566.566 0 0 1-.066-1.127 11.711 11.711 0 0 0 2.106-.449.566.566 0 1 1 .337 1.08 12.826 12.826 0 0 1-2.31.493.553.553 0 0 1-.067 0m-6.618-1.041a.565.565 0 0 1-.237-.052 12.9 12.9 0 0 1-2.045-1.183.566.566 0 0 1 .654-.923 11.751 11.751 0 0 0 1.865 1.079.566.566 0 0 1-.237 1.079m10.912-.3a.566.566 0 0 1-.265-1.065 11.786 11.786 0 0 0 1.8-1.18.566.566 0 0 1 .7.886 12.923 12.923 0 0 1-1.976 1.293.563.563 0 0 1-.265.066m-14.582-2.3a.564.564 0 0 1-.405-.171 12.953 12.953 0 0 1-1.485-1.836.566.566 0 1 1 .941-.628 11.837 11.837 0 0 0 1.356 1.676.566.566 0 0 1-.405.96m18.1-.5a.565.565 0 0 1-.426-.937 11.809 11.809 0 0 0 1.262-1.747.566.566 0 1 1 .974.575 12.939 12.939 0 0 1-1.383 1.915.564.564 0 0 1-.426.194m-20.6-3.244a.566.566 0 0 1-.52-.343 12.819 12.819 0 0 1-.725-2.249.566.566 0 0 1 1.1-.246 11.674 11.674 0 0 0 .661 2.05.566.566 0 0 1-.52.788m22.889-.629a.566.566 0 0 1-.531-.759 11.679 11.679 0 0 0 .547-2.083.566.566 0 0 1 1.116.185 12.811 12.811 0 0 1-.6 2.285.566.566 0 0 1-.531.372M2.69 16.01a.566.566 0 0 1-.565-.545q-.008-.235-.008-.472a12.981 12.981 0 0 1 .214-2.351.566.566 0 1 1 1.112.205 11.849 11.849 0 0 0-.2 2.146q0 .216.008.43a.566.566 0 0 1-.545.586h-.021m24.606-.722a.546.546 0 0 1-.565-.532 11.7 11.7 0 0 0-.235-2.13.56.56 0 0 1 .441-.661.568.568 0 0 1 .667.444 12.718 12.718 0 0 1 .257 2.326.544.544 0 0 1-.555.554Zm-23.8-4.15a.566.566 0 0 1-.528-.769 12.859 12.859 0 0 1 1.069-2.111.566.566 0 0 1 .963.593 11.731 11.731 0 0 0-.956 1.931.566.566 0 0 1-.528.362m22.9-.21a.566.566 0 0 1-.524-.353 11.733 11.733 0 0 0-.992-1.912.566.566 0 1 1 .952-.611 12.863 12.863 0 0 1 1.087 2.1.566.566 0 0 1-.524.779M5.868 7.313a.566.566 0 0 1-.419-.945 12.975 12.975 0 0 1 1.737-1.6.566.566 0 0 1 .687.9 11.846 11.846 0 0 0-1.586 1.46.564.564 0 0 1-.42.186m18.111-.165a.564.564 0 0 1-.413-.179 11.83 11.83 0 0 0-1.612-1.431.566.566 0 1 1 .671-.911 12.959 12.959 0 0 1 1.766 1.568.566.566 0 0 1-.412.952M9.442 4.581a.566.566 0 0 1-.256-1.07 12.828 12.828 0 0 1 2.2-.869.566.566 0 1 1 .317 1.086 11.69 11.69 0 0 0-2 .793.563.563 0 0 1-.255.061m10.913-.1a.562.562 0 0 1-.246-.057 11.7 11.7 0 0 0-2.018-.756.566.566 0 1 1 .3-1.091 12.834 12.834 0 0 1 2.213.829.566.566 0 0 1-.247 1.075m-6.6-1.162a.566.566 0 0 1-.056-1.128 13.151 13.151 0 0 1 2.36-.021.566.566 0 1 1-.092 1.127 11.956 11.956 0 0 0-2.156.02h-.057" data-name="Path 793"/></g></svg>
              {% endif %}
            </span>
          </a>
        {%- endif -%}
      </li>
    {%- endfor -%}
  </ul>
</nav>
